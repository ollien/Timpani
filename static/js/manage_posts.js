document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelector(".modal"),n=new Modal(t),o=document.querySelectorAll("a.button.delete"),r=document.querySelector("span.delete-post-title");n.element.addEventListener("positive-pressed",function(e){var t=n.element.getAttribute("post-id"),o=new XMLHttpRequest;o.open("POST","/delete_post/"+t),o.addEventListener("load",function(e){var n=JSON.parse(o.responseText);if(0===n.error){var r=document.querySelector('li[post-id="'+t+'"]');r.addEventListener("transitionend",function(e){this.remove()}),r.classList.add("deleting")}else 1===n.error&&(window.location="/login")}),o.send()}),Array.prototype.slice.call(o).forEach(function(e){e.addEventListener("click",function(o){var d=e.parentNode.parentNode,i=d.querySelector("a.post-title").textContent;t.setAttribute("post-id",d.getAttribute("post-id")),r.textContent=i,n.show()})})});